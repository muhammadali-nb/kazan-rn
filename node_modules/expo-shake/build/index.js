import { Accelerometer } from 'expo-sensors';
const DEFAULT_THRESHOLD = 150;
export function addListener(handler) {
    let last_x, last_y, last_z;
    let lastUpdate = 0;
    return Accelerometer.addListener(accelerometerData => {
        let { x, y, z } = accelerometerData;
        let currTime = Date.now();
        if (currTime - lastUpdate > 100) {
            let diffTime = currTime - lastUpdate;
            lastUpdate = currTime;
            let speed = (Math.abs(x + y + z - last_x - last_y - last_z) / diffTime) * 10000;
            if (speed > DEFAULT_THRESHOLD) {
                handler();
            }
            last_x = x;
            last_y = y;
            last_z = z;
        }
    });
}
export const removeSubscription = Accelerometer.removeSubscription;
//# sourceMappingURL=index.js.map